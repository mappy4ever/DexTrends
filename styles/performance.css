/* Performance Optimization CSS Utilities */

/* GPU Acceleration and Performance Hints */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* CSS Containment for preventing layout thrashing */
.contain-layout {
  contain: layout;
}

.contain-style {
  contain: style;
}

.contain-paint {
  contain: paint;
}

.contain-size {
  contain: size;
}

.contain-all {
  contain: layout style paint;
}

.contain-strict {
  contain: strict;
}

/* Will-change optimizations */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

.will-change-contents {
  will-change: contents;
}

.will-change-scroll {
  will-change: scroll-position;
}

/* Remove will-change on hover/after animation */
.will-change-auto {
  will-change: auto;
}

/* Prevent flickering during animations */
.no-flicker {
  -webkit-transform: translate3d(0, 0, 0);
  -webkit-backface-visibility: hidden;
  -webkit-perspective: 1000px;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize for smooth scrolling */
.smooth-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Prevent repaints for fixed elements */
.fixed-no-repaint {
  transform: translateZ(0);
  will-change: transform;
  position: fixed;
}

/* Optimize images and media */
.image-optimized {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  contain: layout style paint;
}

/* Reduce motion for accessibility and performance */
@media (prefers-reduced-motion: reduce) {
  .gpu-accelerated,
  .will-change-transform,
  .will-change-opacity,
  .will-change-contents {
    animation: none !important;
    transition: none !important;
    will-change: auto !important;
  }
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
  .mobile-optimize {
    contain: layout style paint;
    will-change: auto;
  }
  
  /* Disable complex animations on mobile */
  .mobile-no-animation {
    animation: none !important;
    transition: opacity 0.2s ease !important;
  }
}

/* High-performance hover states */
.perf-hover {
  transition: transform 0.2s ease;
  will-change: transform;
}

.perf-hover:hover {
  transform: translateZ(0) scale(1.02);
}

/* After hover, remove will-change */
.perf-hover:not(:hover) {
  will-change: auto;
}

/* Prevent elements from being culled during scroll */
.scroll-visible,
.no-cull {
  transform: translate3d(0, 0, 0);
  -webkit-transform: translate3d(0, 0, 0);
  backface-visibility: visible;
  -webkit-backface-visibility: visible;
  will-change: auto;
  contain: none;
}

/* Force rendering for badge-type elements */
.badge-no-cull {
  transform: translate3d(0, 0, 0);
  -webkit-transform: translate3d(0, 0, 0);
  backface-visibility: visible !important;
  -webkit-backface-visibility: visible !important;
  opacity: 1 !important;
  visibility: visible !important;
  will-change: auto !important;
  contain: none !important;
}

/* Safari-specific scroll performance fixes */
@supports (-webkit-touch-callout: none) {
  .scroll-visible,
  .no-cull,
  .badge-no-cull {
    -webkit-transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: visible;
    position: relative;
  }
}

/* Prevent content-visibility optimizations */
.always-visible {
  content-visibility: visible !important;
  contain-intrinsic-size: auto !important;
}

/* Evolution card hover shadow */
.hover\:shadow-evolution:hover {
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}